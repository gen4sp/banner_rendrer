# Banner Renderer

Banner Renderer — это утилита на Nuxt 3 с UI-компонентами @nuxt/ui для рендеринга HTML-шаблона в PNG-баннеры разных размеров.

## Как это работает

1. В корне проекта находится файл `bannerConfig.json`. В нём хранится массив объектов с размерами баннеров и путями к ресурсам:

    ```json
    [
        {
            "name": "og", // произвольное имя для сохранённого файла
            "width": 1200, // ширина баннера
            "height": 628, // высота баннера
            "back": "/images/back.png", // фон
            "main": "/images/main.png", // главный рисунок
            "logo1": "/images/logo1.png", // логотип 1
            "logo2": "/images/logo2.png" // логотип 2
        }
    ]
    ```

2. У проекта есть единственный шаблон `pages/template.vue`, который получает вышеуказанные параметры через query-string и отображает четыре слоя изображений (`back`, `main`, `logo1`, `logo2`).
3. При нажатии на кнопку **StartRender** на главной странице вызывается серверный маршрут `POST /api/render`. Он:
    - читает `bannerConfig.json`;
    - для каждого элемента открывает скрытый Chromium через Puppeteer;
    - рендерит `template.vue` с нужными параметрами;
    - сохраняет получившееся PNG-изображение в папку `./assets/banners` (путь настраивается в `server/api/render.post.ts`).
4. После завершения операции API возвращает массив `{ name, path }`, который используется в интерфейсе для показа превью и ссылок на итоговые файлы.

## Установка и запуск

```bash
# Установка зависимостей
$ yarn install

# Запуск режима разработки
$ yarn dev

# Сборка для продакшна
$ yarn build

# Запуск продакшн-сервера
$ yarn start
```

> ⚠️ Проект использует Yarn, а не npm. Пожалуйста, не переключайтесь на npm без необходимости.

## Структура проекта

```
BannerRenderer/
├── assets/          # статические файлы и итоговые баннеры
├── pages/
│   ├── index.vue    # главная страница с кнопкой рендера и превью
│   └── template.vue # HTML-шаблон баннера
├── server/api/
│   └── render.post.ts # серверный рендеринг через Puppeteer
├── bannerConfig.json # конфигурация размеров и изображений
└── nuxt.config.ts
```

## Частые вопросы

### Где появляются готовые картинки?

По умолчанию — в `assets/banners`. Папка создаётся автоматически, если её нет.

### Что делать, если нужны другие размеры или изображения?

Просто измените `bannerConfig.json`: добавьте новые объекты или поменяйте пути.

### Можно ли использовать другой шаблон?

Сейчас система рассчитана на один шаблон с четырьмя слоями. Если вам нужен другой набор слоёв — создайте собственный Vue-файл в `pages/` и укажите его путь в конфигурации рендера.

## Лицензия

MIT
